(this["webpackJsonpsudoku-solver"]=this["webpackJsonpsudoku-solver"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var i=r(2),n=r(3),l=r(5),o=r(4),a=r(1),s=r.n(a),u=r(7),c=r.n(u),d=r(0);function h(e){var t={backgroundColor:e.bgColor,borderBottomWidth:e.bottomBorder,borderRightWidth:e.rightBorder};return Object(d.jsx)("button",{className:"square",onClick:function(){return e.onClick()},onContextMenu:function(){return e.onContextMenu()},style:t,children:e.value})}var f=function(e){Object(l.a)(r,e);var t=Object(o.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(n.a)(r,[{key:"renderSquare",value:function(e,t,r,i){var n=this;return Object(d.jsx)(h,{value:this.props.grid[e][t],bgColor:this.props.bgColors[e][t],onClick:function(){return n.props.onClick(e,t)},onContextMenu:function(){return n.props.onContextMenu(e,t)},rightBorder:r,bottomBorder:i})}},{key:"renderRow",value:function(e){var t=2;return 8!==e&&(e+1)%3===0&&(t=4),Object(d.jsxs)("div",{className:"board-row",children:[this.renderSquare(e,0,2,t),this.renderSquare(e,1,2,t),this.renderSquare(e,2,4,t),this.renderSquare(e,3,2,t),this.renderSquare(e,4,2,t),this.renderSquare(e,5,4,t),this.renderSquare(e,6,2,t),this.renderSquare(e,7,2,t),this.renderSquare(e,8,2,t)]})}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"board",children:[this.renderRow(0),this.renderRow(1),this.renderRow(2),this.renderRow(3),this.renderRow(4),this.renderRow(5),this.renderRow(6),this.renderRow(7),this.renderRow(8)]})}}]),r}(s.a.Component),v=function(){function e(t){Object(i.a)(this,e),this.puzzle=t.map((function(e){return e.slice()}))}return Object(n.a)(e,[{key:"generateSolution",value:function(){console.log("Solving...");var e=performance.now();this.backtrack(0,0);var t=performance.now()-e;return console.log("Algorithm execution: ".concat(t," ms")),{solution:this.puzzle,executionTime:t}}},{key:"backtrack",value:function(e,t){if(e>=this.puzzle.length)return!0;if(null!=this.puzzle[e][t]){var r=e,i=t+1;if(t>=this.puzzle.length&&(r+=1,i=0),this.backtrack(r,i))return!0}else{for(var n=1;n<=9;n++)if(this.puzzle[e][t]=n,this.isValid(e,t)){var l=e,o=t+1;if(t>=this.puzzle.length&&(l+=1,o=0),this.backtrack(l,o))return!0}this.puzzle[e][t]=null}}},{key:"isValid",value:function(e,t){return this.checkRowValid(e)&&this.checkColValid(t)&&this.checkSubgridValid(e,t)}},{key:"checkRowValid",value:function(e){for(var t=new Set,r=this.puzzle,i=0;i<r.length;i++)if(null!=r[e][i]){if(t.has(r[e][i]))return!1;t.add(r[e][i])}return!0}},{key:"checkColValid",value:function(e){for(var t=new Set,r=this.puzzle,i=0;i<r.length;i++)if(null!=r[i][e]){if(t.has(r[i][e]))return!1;t.add(r[i][e])}return!0}},{key:"checkSubgridValid",value:function(e,t){e=3*Math.floor(e/3),t=3*Math.floor(t/3);for(var r=new Set,i=this.puzzle,n=0;n<3;n++)for(var l=0;l<3;l++)if(null!=i[e+n][t+l]){if(r.has(i[e+n][t+l]))return!1;r.add(i[e+n][t+l])}return!0}}]),e}(),b=(r(13),function(e){Object(l.a)(r,e);var t=Object(o.a)(r);function r(e){var n;Object(i.a)(this,r),n=t.call(this,e);return n.invalidColor="#ff7fe5",n.state={grid:Array(9).fill(null).map((function(){return new Array(9).fill(null)})),solutionGrid:Array(9).fill(null).map((function(){return new Array(9).fill(null)})),bgColors:Array(9).fill("").map((function(){return new Array(9).fill("")})),invalidRows:Array(9).fill(!1),invalidCols:Array(9).fill(!1),invalidSubgrids:Array(3).fill(!1).map((function(){return new Array(!1).fill(null)})),valid:!0},n}return Object(n.a)(r,[{key:"handleClick",value:function(e,t){var r=this.state.grid;null==r[e][t]?r[e][t]=1:9===r[e][t]?r[e][t]=null:r[e][t]=r[e][t]+1,this.setState({grid:r}),this.checkEntryValidity(e,t)}},{key:"handleRightClick",value:function(e,t){var r=this.state.grid;null==r[e][t]?r[e][t]=9:1===r[e][t]?r[e][t]=null:r[e][t]=r[e][t]-1,this.setState({grid:r}),this.checkEntryValidity(e,t)}},{key:"checkEntryValidity",value:function(e,t){var r=this.state.invalidRows;this.checkRowValid(e)?r[e]=!1:(console.log("Invalid row: "+e),r[e]=!0);var i=this.state.invalidCols;this.checkColValid(t)?i[t]=!1:(console.log("Invalid col: "+t),i[t]=!0);var n=Math.floor(e/3),l=Math.floor(t/3),o=this.state.invalidSubgrids;this.checkSubgridValid(n,l)?o[n][l]=!1:(console.log("Invalid subgrid: "+n+","+l),o[n][l]=!0),this.setState({invalidRows:r,invalidCols:i,invalidSubgrids:o}),this.updateValidity()}},{key:"updateValidity",value:function(){for(var e=Array(9).fill("").map((function(){return new Array(9).fill("")})),t=this.state.invalidRows,r=this.state.invalidCols,i=this.state.invalidSubgrids,n=!0,l=0;l<e.length;l++)!0===t[l]&&(this.setRowColor(e,l,this.invalidColor),n=!1),!0===r[l]&&(this.setColColor(e,l,this.invalidColor),n=!1);for(var o=0;o<3;o++)for(var a=0;a<3;a++)!0===i[o][a]&&(this.setSubgridColor(e,o,a,this.invalidColor),n=!1);this.setState({bgColors:e,valid:n})}},{key:"checkRowValid",value:function(e){for(var t=new Set,r=this.state.grid,i=0;i<r.length;i++)if(null!=r[e][i]){if(t.has(r[e][i]))return!1;t.add(r[e][i])}return!0}},{key:"checkColValid",value:function(e){for(var t=new Set,r=this.state.grid,i=0;i<r.length;i++)if(null!=r[i][e]){if(t.has(r[i][e]))return!1;t.add(r[i][e])}return!0}},{key:"checkSubgridValid",value:function(e,t){e*=3,t*=3;for(var r=new Set,i=this.state.grid,n=0;n<3;n++)for(var l=0;l<3;l++)if(null!=i[e+n][t+l]){if(r.has(i[e+n][t+l]))return!1;r.add(i[e+n][t+l])}return!0}},{key:"setRowColor",value:function(e,t,r){for(var i=0;i<e.length;i++)e[t][i]=r}},{key:"setColColor",value:function(e,t,r){for(var i=0;i<e.length;i++)e[i][t]=r}},{key:"setSubgridColor",value:function(e,t,r,i){t*=3,r*=3;for(var n=0;n<3;n++)for(var l=0;l<3;l++)e[t+n][r+l]=i}},{key:"reset",value:function(){this.setState({grid:Array(9).fill(null).map((function(){return new Array(9).fill(null)})),solutionGrid:Array(9).fill(null).map((function(){return new Array(9).fill(null)})),bgColors:Array(9).fill("").map((function(){return new Array(9).fill("")})),invalidRows:Array(9).fill(!1),invalidCols:Array(9).fill(!1),invalidSubgrids:Array(3).fill(!1).map((function(){return new Array(!1).fill(null)})),valid:!0,info:""})}},{key:"solve",value:function(){if(!0===this.state.valid){this.setState({info:"Solving..."});var e=new v(this.state.grid).generateSolution(),t=e.executionTime,r="Solved in ";r+=t>1e3?(t/1e3).toFixed(2)+" s":t.toFixed(2)+" ms",this.setState({solutionGrid:e.solution,info:r})}else console.log("Unable to solve. Invalid puzzle.")}},{key:"render",value:function(){var e=this,t=new Array(9).fill("").map((function(){return new Array(9).fill("")}));return document.title="Sudoku Solver",Object(d.jsx)("div",{className:"solver",children:Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)("h1",{children:"Sudoku Solver"}),Object(d.jsxs)("div",{className:"game-board",children:[Object(d.jsxs)("div",{className:"puzzle",onContextMenu:function(e){return e.preventDefault()},children:[Object(d.jsx)("h2",{children:"Puzzle"}),Object(d.jsx)(f,{grid:this.state.grid,bgColors:this.state.bgColors,onClick:function(t,r){return e.handleClick(t,r)},onContextMenu:function(t,r){return e.handleRightClick(t,r)}})]}),Object(d.jsxs)("div",{className:"solution",children:[Object(d.jsx)("h2",{children:"Solution"}),Object(d.jsx)(f,{grid:this.state.solutionGrid,bgColors:t,onClick:function(){}})]})]}),Object(d.jsx)("button",{className:"button",onClick:function(){return e.solve()},disabled:!this.state.valid,children:"Solve"}),Object(d.jsx)("button",{className:"button",onClick:function(){return e.reset()},children:"Reset"}),Object(d.jsx)("h2",{children:this.state.info})]})})}}]),r}(s.a.Component));c.a.render(Object(d.jsx)(b,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.83b7b2ce.chunk.js.map